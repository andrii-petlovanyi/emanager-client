{"ast":null,"code":"import _regeneratorRuntime from\"/Users/andrepetlovany/Desktop/GIT/elx/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/andrepetlovany/Desktop/GIT/elx/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/andrepetlovany/Desktop/GIT/elx/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useEffect}from'react';import{PostItem}from'../components/PostItem';import axios from'../utils/axios';import{AiOutlineSearch}from'react-icons/ai';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PostsPage=function PostsPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var fetchMyPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/posts/user/me');case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setPosts(data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchMyPosts(){return _ref.apply(this,arguments);};}();var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),value=_useState4[0],setValue=_useState4[1];var filterPost=posts.filter(function(post){return post.model.includes(value);});useEffect(function(){fetchMyPosts();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"main-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"searchBlock\",children:[/*#__PURE__*/_jsx(AiOutlineSearch,{size:30,style:{transform:'rotate(90deg)',marginRight:'5px'}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0412\\u0432\\u043E\\u0434\\u044C \\u043C\\u043E\\u0434\\u0435\\u043B\\u044C \\u0434\\u043B\\u044F \\u043F\\u043E\\u0448\\u0443\\u043A\\u0443...\",onChange:function onChange(e){return setValue(e.target.value);},className:\"search\"})]}),filterPost===null||filterPost===void 0?void 0:filterPost.map(function(post,idx){return/*#__PURE__*/_jsx(PostItem,{post:post},idx);})]});};","map":{"version":3,"names":["React","useState","useEffect","PostItem","axios","AiOutlineSearch","PostsPage","posts","setPosts","fetchMyPosts","get","data","console","log","value","setValue","filterPost","filter","post","model","includes","transform","marginRight","e","target","map","idx"],"sources":["/Users/andrepetlovany/Desktop/GIT/elx/client/src/pages/PostsPage.jsx"],"sourcesContent":["import React, {useState} from 'react';\nimport { useEffect } from 'react';\nimport { PostItem } from '../components/PostItem';\nimport axios from '../utils/axios';\nimport { AiOutlineSearch } from 'react-icons/ai';\n\nexport const PostsPage = () => {\n    const [posts, setPosts] = useState([])\n    const fetchMyPosts = async () => {\n        try {\n            const { data } = await axios.get('/posts/user/me')\n            setPosts(data)\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    const [value, setValue] = useState('')\n\n    const filterPost = posts.filter(post => {\n        return post.model.includes(value)\n    })\n\n    useEffect(() => {\n        fetchMyPosts()\n    }, [])\n\n    return (<div className='main-page'>\n        <div className='searchBlock'><AiOutlineSearch size={30} style={{ transform: 'rotate(90deg)', marginRight: '5px' }}/><input type='text' placeholder='Вводь модель для пошуку...' onChange={(e) => setValue(e.target.value)} className='search'/></div>\n        {filterPost?.map((post, idx) => <PostItem post={post} key={idx} />)}\n    </div>)\n}"],"mappings":"sZAAA,MAAOA,MAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,QAAT,KAAyB,wBAAzB,CACA,MAAOC,MAAP,KAAkB,gBAAlB,CACA,OAASC,eAAT,KAAgC,gBAAhC,C,wFAEA,MAAO,IAAMC,UAAS,CAAG,QAAZA,UAAY,EAAM,CAC3B,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,GAAMC,aAAY,4FAAG,qMAEUL,MAAK,CAACM,GAAN,CAAU,gBAAV,CAFV,uCAELC,IAFK,kBAELA,IAFK,CAGbH,QAAQ,CAACG,IAAD,CAAR,CAHa,+EAKbC,OAAO,CAACC,GAAR,cALa,oEAAH,kBAAZJ,aAAY,0CAAlB,CASA,eAA0BR,QAAQ,CAAC,EAAD,CAAlC,yCAAOa,KAAP,eAAcC,QAAd,eAEA,GAAMC,WAAU,CAAGT,KAAK,CAACU,MAAN,CAAa,SAAAC,IAAI,CAAI,CACpC,MAAOA,KAAI,CAACC,KAAL,CAAWC,QAAX,CAAoBN,KAApB,CAAP,CACH,CAFkB,CAAnB,CAIAZ,SAAS,CAAC,UAAM,CACZO,YAAY,GACf,CAFQ,CAEN,EAFM,CAAT,CAIA,mBAAQ,aAAK,SAAS,CAAC,WAAf,wBACJ,aAAK,SAAS,CAAC,aAAf,wBAA6B,KAAC,eAAD,EAAiB,IAAI,CAAE,EAAvB,CAA2B,KAAK,CAAE,CAAEY,SAAS,CAAE,eAAb,CAA8BC,WAAW,CAAE,KAA3C,CAAlC,EAA7B,cAAoH,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,gIAA/B,CAA4D,QAAQ,CAAE,kBAACC,CAAD,QAAOR,SAAQ,CAACQ,CAAC,CAACC,MAAF,CAASV,KAAV,CAAf,EAAtE,CAAuG,SAAS,CAAC,QAAjH,EAApH,GADI,CAEHE,UAFG,SAEHA,UAFG,iBAEHA,UAAU,CAAES,GAAZ,CAAgB,SAACP,IAAD,CAAOQ,GAAP,qBAAe,KAAC,QAAD,EAAU,IAAI,CAAER,IAAhB,EAA2BQ,GAA3B,CAAf,EAAhB,CAFG,GAAR,CAIH,CAzBM"},"metadata":{},"sourceType":"module"}