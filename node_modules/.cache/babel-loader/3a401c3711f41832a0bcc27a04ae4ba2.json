{"ast":null,"code":"import _defineProperty from\"/Users/andrepetlovany/Desktop/GIT/elx/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"/Users/andrepetlovany/Desktop/GIT/elx/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/andrepetlovany/Desktop/GIT/elx/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import axios from'../../../utils/axios';var initialState={posts:[],popularPosts:[],loading:false};export var createPost=createAsyncThunk('post/createPost',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(params){var _yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post('/posts',params);case 3:_yield$axios$post=_context.sent;data=_yield$axios$post.data;return _context.abrupt(\"return\",data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}());export var postSlice=createSlice({name:'post',initialState:initialState,reducers:{},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,createPost.pending,function(state){state.loading=true;}),_defineProperty(_extraReducers,createPost.fulfilled,function(state,action){state.loading=false;state.posts.push(action.payload);}),_defineProperty(_extraReducers,createPost.rejected,function(state){state.loading=false;}),_extraReducers)});export default postSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","posts","popularPosts","loading","createPost","params","post","data","console","log","postSlice","name","reducers","extraReducers","pending","state","fulfilled","action","push","payload","rejected","reducer"],"sources":["/Users/andrepetlovany/Desktop/GIT/elx/client/src/redux/features/post/postSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from '../../../utils/axios';\n\nconst initialState = {\n    posts: [],\n    popularPosts: [],\n    loading: false,\n}\n\nexport const createPost = createAsyncThunk('post/createPost', async (params) => {\n    try {\n        const { data } = await axios.post('/posts', params)\n        return data\n    } catch(error) {console.log(error)}\n})\n\nexport const postSlice = createSlice({\n    name: 'post',\n    initialState,\n    reducers: {},\n    extraReducers: {\n        //create post\n        [createPost.pending]: (state) => {\n            state.loading = true\n        },\n        [createPost.fulfilled]: (state, action) => {\n            state.loading = false\n            state.posts.push(action.payload)\n        },\n        [createPost.rejected]: (state) => {\n            state.loading = false\n        },\n    },\n})\n\nexport default postSlice.reducer"],"mappings":"2aAAA,OAASA,WAAT,CAAsBC,gBAAtB,KAA8C,kBAA9C,CACA,MAAOC,MAAP,KAAkB,sBAAlB,CAEA,GAAMC,aAAY,CAAG,CACjBC,KAAK,CAAE,EADU,CAEjBC,YAAY,CAAE,EAFG,CAGjBC,OAAO,CAAE,KAHQ,CAArB,CAMA,MAAO,IAAMC,WAAU,CAAGN,gBAAgB,CAAC,iBAAD,4FAAoB,iBAAOO,MAAP,qLAE/BN,MAAK,CAACO,IAAN,CAAW,QAAX,CAAqBD,MAArB,CAF+B,wCAE9CE,IAF8C,mBAE9CA,IAF8C,iCAG/CA,IAH+C,0DAI1CC,OAAO,CAACC,GAAR,cAJ0C,oEAApB,+DAAnC,CAOP,MAAO,IAAMC,UAAS,CAAGb,WAAW,CAAC,CACjCc,IAAI,CAAE,MAD2B,CAEjCX,YAAY,CAAZA,YAFiC,CAGjCY,QAAQ,CAAE,EAHuB,CAIjCC,aAAa,mDAERT,UAAU,CAACU,OAFH,CAEa,SAACC,KAAD,CAAW,CAC7BA,KAAK,CAACZ,OAAN,CAAgB,IAAhB,CACH,CAJQ,iCAKRC,UAAU,CAACY,SALH,CAKe,SAACD,KAAD,CAAQE,MAAR,CAAmB,CACvCF,KAAK,CAACZ,OAAN,CAAgB,KAAhB,CACAY,KAAK,CAACd,KAAN,CAAYiB,IAAZ,CAAiBD,MAAM,CAACE,OAAxB,EACH,CARQ,iCASRf,UAAU,CAACgB,QATH,CASc,SAACL,KAAD,CAAW,CAC9BA,KAAK,CAACZ,OAAN,CAAgB,KAAhB,CACH,CAXQ,iBAJoB,CAAD,CAA7B,CAmBP,cAAeO,UAAS,CAACW,OAAzB"},"metadata":{},"sourceType":"module"}