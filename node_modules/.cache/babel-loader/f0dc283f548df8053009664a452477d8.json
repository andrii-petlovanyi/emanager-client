{"ast":null,"code":"import _defineProperty from\"/Users/andrepetlovany/Desktop/GIT/elx/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"/Users/andrepetlovany/Desktop/GIT/elx/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/andrepetlovany/Desktop/GIT/elx/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import axios from'../../../utils/axios';var initialState={offers:[],loading:false};export var getAllOffer=createAsyncThunk('offer/getAllOffer',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/offers');case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;return _context.abrupt(\"return\",data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);})));export var removeOffer=createAsyncThunk('offer/removeOffer',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var _yield$axios$delete,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.delete(\"offers/\".concat(id),id);case 3:_yield$axios$delete=_context2.sent;data=_yield$axios$delete.data;return _context2.abrupt(\"return\",data);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x){return _ref2.apply(this,arguments);};}());export var offerSlice=createSlice({name:'offer',initialState:initialState,reducers:{},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,getAllOffer.pending,function(state){state.loading=true;}),_defineProperty(_extraReducers,getAllOffer.fulfilled,function(state,action){state.loading=false;state.offers=action.payload.offers;}),_defineProperty(_extraReducers,getAllOffer.rejected,function(state){state.loading=false;}),_defineProperty(_extraReducers,removeOffer.pending,function(state){state.loading=true;}),_defineProperty(_extraReducers,removeOffer.fulfilled,function(state,action){state.loading=false;state.offers=state.offers.filter(function(offer){return offer._id!==action.payload._id;});}),_defineProperty(_extraReducers,removeOffer.rejected,function(state){state.loading=false;}),_extraReducers)});export default offerSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","offers","loading","getAllOffer","get","data","console","log","removeOffer","id","delete","offerSlice","name","reducers","extraReducers","pending","state","fulfilled","action","payload","rejected","filter","offer","_id","reducer"],"sources":["/Users/andrepetlovany/Desktop/GIT/elx/client/src/redux/features/offer/offerSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from '../../../utils/axios';\n\nconst initialState = {\n    offers: [],\n    loading: false,\n}\n\n\nexport const getAllOffer = createAsyncThunk('offer/getAllOffer', async () => {\n    try {\n        const { data } = await axios.get('/offers')\n        return data\n    } catch (error) {\n        console.log(error)\n    }\n})\n\nexport const removeOffer = createAsyncThunk('offer/removeOffer', async (id) => {\n    try {\n        const { data } = await axios.delete(`offers/${id}`, id)\n        return data\n    } catch (error) { console.log(error)}\n})\n\n\nexport const offerSlice = createSlice({\n    name: 'offer',\n    initialState,\n    reducers: {},\n    extraReducers: {\n\n        //Get all posts\n        [getAllOffer.pending]: (state) => {\n            state.loading = true\n        },\n        [getAllOffer.fulfilled]: (state, action) => {\n            state.loading = false\n            state.offers = action.payload.offers\n        },\n        [getAllOffer.rejected]: (state) => {\n            state.loading = false\n        },\n\n        //Delete post\n        [removeOffer.pending]: (state) => {\n            state.loading = true\n        },\n        [removeOffer.fulfilled]: (state, action) => {\n            state.loading = false\n            state.offers = state.offers.filter(\n                (offer) => offer._id !== action.payload._id,\n            )\n        },\n        [removeOffer.rejected]: (state) => {\n            state.loading = false\n        },\n    },\n})\n\nexport default offerSlice.reducer"],"mappings":"2aAAA,OAASA,WAAT,CAAsBC,gBAAtB,KAA8C,kBAA9C,CACA,MAAOC,MAAP,KAAkB,sBAAlB,CAEA,GAAMC,aAAY,CAAG,CACjBC,MAAM,CAAE,EADS,CAEjBC,OAAO,CAAE,KAFQ,CAArB,CAMA,MAAO,IAAMC,YAAW,CAAGL,gBAAgB,CAAC,mBAAD,wEAAsB,qMAElCC,MAAK,CAACK,GAAN,CAAU,SAAV,CAFkC,uCAEjDC,IAFiD,kBAEjDA,IAFiD,iCAGlDA,IAHkD,0DAKzDC,OAAO,CAACC,GAAR,cALyD,oEAAtB,GAApC,CASP,MAAO,IAAMC,YAAW,CAAGV,gBAAgB,CAAC,mBAAD,6FAAsB,kBAAOW,EAAP,6LAElCV,MAAK,CAACW,MAAN,kBAAuBD,EAAvB,EAA6BA,EAA7B,CAFkC,2CAEjDJ,IAFiD,qBAEjDA,IAFiD,kCAGlDA,IAHkD,6DAI3CC,OAAO,CAACC,GAAR,eAJ2C,sEAAtB,gEAApC,CAQP,MAAO,IAAMI,WAAU,CAAGd,WAAW,CAAC,CAClCe,IAAI,CAAE,OAD4B,CAElCZ,YAAY,CAAZA,YAFkC,CAGlCa,QAAQ,CAAE,EAHwB,CAIlCC,aAAa,mDAGRX,WAAW,CAACY,OAHJ,CAGc,SAACC,KAAD,CAAW,CAC9BA,KAAK,CAACd,OAAN,CAAgB,IAAhB,CACH,CALQ,iCAMRC,WAAW,CAACc,SANJ,CAMgB,SAACD,KAAD,CAAQE,MAAR,CAAmB,CACxCF,KAAK,CAACd,OAAN,CAAgB,KAAhB,CACAc,KAAK,CAACf,MAAN,CAAeiB,MAAM,CAACC,OAAP,CAAelB,MAA9B,CACH,CATQ,iCAURE,WAAW,CAACiB,QAVJ,CAUe,SAACJ,KAAD,CAAW,CAC/BA,KAAK,CAACd,OAAN,CAAgB,KAAhB,CACH,CAZQ,iCAeRM,WAAW,CAACO,OAfJ,CAec,SAACC,KAAD,CAAW,CAC9BA,KAAK,CAACd,OAAN,CAAgB,IAAhB,CACH,CAjBQ,iCAkBRM,WAAW,CAACS,SAlBJ,CAkBgB,SAACD,KAAD,CAAQE,MAAR,CAAmB,CACxCF,KAAK,CAACd,OAAN,CAAgB,KAAhB,CACAc,KAAK,CAACf,MAAN,CAAee,KAAK,CAACf,MAAN,CAAaoB,MAAb,CACX,SAACC,KAAD,QAAWA,MAAK,CAACC,GAAN,GAAcL,MAAM,CAACC,OAAP,CAAeI,GAAxC,EADW,CAAf,CAGH,CAvBQ,iCAwBRf,WAAW,CAACY,QAxBJ,CAwBe,SAACJ,KAAD,CAAW,CAC/BA,KAAK,CAACd,OAAN,CAAgB,KAAhB,CACH,CA1BQ,iBAJqB,CAAD,CAA9B,CAkCP,cAAeS,WAAU,CAACa,OAA1B"},"metadata":{},"sourceType":"module"}