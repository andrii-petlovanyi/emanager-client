{"ast":null,"code":"import _regeneratorRuntime from\"/Users/andrepetlovany/Desktop/GIT/elx/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/andrepetlovany/Desktop/GIT/elx/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/andrepetlovany/Desktop/GIT/elx/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useCallback}from'react';import{Link,useParams,useNavigate}from'react-router-dom';import axios from'../utils/axios';import'../index.css';import{useDispatch}from'react-redux';import{AiFillDelete}from'react-icons/ai';import{removeOffer}from'../redux/features/offer/offerSlice';import{toast}from'react-toastify';import{AiOutlineStar}from'react-icons/ai';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var OfferDelPage=function OfferDelPage(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),offer=_useState2[0],setOffer=_useState2[1];var params=useParams();var navigate=useNavigate();var dispatch=useDispatch();var removeOfferHandler=function removeOfferHandler(){try{dispatch(removeOffer(params.id));toast('Запис видалено');navigate('/offers');}catch(error){console.log(error);}};var fetchOffer=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/offers/\".concat(params.id));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setOffer(data);case 5:case\"end\":return _context.stop();}}},_callee);})),[params.id]);useEffect(function(){fetchOffer();},[fetchOffer]);if(!offer){return/*#__PURE__*/_jsxs(\"div\",{className:\"postViewMain wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"circle\"}),/*#__PURE__*/_jsx(\"div\",{className:\"circle\"}),/*#__PURE__*/_jsx(\"div\",{className:\"circle\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"postViewMain\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn_enter\",children:[/*#__PURE__*/_jsx(Link,{className:\"link-item\",to:'/offers',children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),\" \"]})}),/*#__PURE__*/_jsxs(\"section\",{className:\"postView\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"postHeader\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"postTitle\",children:[/*#__PURE__*/_jsx(AiOutlineStar,{size:25,style:{marginRight:'10px'}}),offer.model]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"postBlock\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"postBlockUrl\",children:/*#__PURE__*/_jsx(\"p\",{children:offer.FirstName})}),/*#__PURE__*/_jsx(\"div\",{className:\"postBlockUrl\",children:/*#__PURE__*/_jsx(\"p\",{children:offer.LastName})})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"btnViewNav\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-edit\",onClick:removeOfferHandler,children:/*#__PURE__*/_jsx(AiFillDelete,{size:20,style:{color:'#fff'}})})})})]});};","map":{"version":3,"names":["React","useEffect","useState","useCallback","Link","useParams","useNavigate","axios","useDispatch","AiFillDelete","removeOffer","toast","AiOutlineStar","OfferDelPage","offer","setOffer","params","navigate","dispatch","removeOfferHandler","id","error","console","log","fetchOffer","get","data","marginRight","model","FirstName","LastName","color"],"sources":["/Users/andrepetlovany/Desktop/GIT/elx/client/src/pages/OfferDelPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useCallback } from 'react';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\nimport axios from '../utils/axios';\nimport '../index.css'\nimport { useDispatch } from 'react-redux';\nimport { AiFillDelete } from 'react-icons/ai';\nimport { removeOffer } from '../redux/features/offer/offerSlice';\nimport { toast } from 'react-toastify'\nimport { AiOutlineStar } from 'react-icons/ai'\n\nexport const OfferDelPage = () => {\n\n    const [offer, setOffer] = useState(null)\n    const params = useParams()\n    const navigate = useNavigate()\n    const dispatch = useDispatch()\n\n    const removeOfferHandler = () => {\n        try {\n            dispatch(removeOffer(params.id))\n            toast('Запис видалено')\n            navigate('/offers')\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n\n\n    const fetchOffer = useCallback(async () => {\n        const { data } = await axios.get(`/offers/${params.id}`)\n        setOffer(data)\n    }, [params.id])\n\n    useEffect(() => {\n        fetchOffer()\n    }, [fetchOffer])\n\n    if (!offer) {\n        return (\n            <div className=\"postViewMain wrapper\">\n                <div className=\"circle\"></div>\n                <div className=\"circle\"></div>\n                <div className=\"circle\"></div>\n            </div>\n        )\n    }\n    return (\n        <div className='postViewMain'>\n            <div>\n                <button className='btn_enter'><Link className='link-item' to={'/offers'}>Назад</Link> </button>\n            </div>\n                    \n            <section className=\"postView\">\n                <div className=\"postHeader\">\n                    <h3 className=\"postTitle\"><AiOutlineStar size={25} style={{ marginRight:'10px'}} />{offer.model}</h3>\n                    {/* <Moment date={offer.Date} format='D MMM YYYY' className=\"postData\"/> */}\n                </div>\n                <div className=\"postBlock\">\n                    <div className=\"postBlockUrl\"><p>{offer.FirstName}</p></div>\n                    <div className=\"postBlockUrl\"><p>{offer.LastName}</p></div>\n                </div>\n            </section>       \n            <div>\n                \n                    <div className='btnViewNav'>\n                        <button className='btn-edit' onClick={removeOfferHandler}><AiFillDelete size={20} style={{ color:'#fff'}}/></button>\n                    </div>\n            </div>  \n        </div>\n        )\n}"],"mappings":"sZAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,OAA5B,CACA,OAASC,IAAT,CAAeC,SAAf,CAA0BC,WAA1B,KAA6C,kBAA7C,CACA,MAAOC,MAAP,KAAkB,gBAAlB,CACA,MAAO,cAAP,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,YAAT,KAA6B,gBAA7B,CACA,OAASC,WAAT,KAA4B,oCAA5B,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,aAAT,KAA8B,gBAA9B,C,wFAEA,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CAE9B,cAA0BX,QAAQ,CAAC,IAAD,CAAlC,wCAAOY,KAAP,eAAcC,QAAd,eACA,GAAMC,OAAM,CAAGX,SAAS,EAAxB,CACA,GAAMY,SAAQ,CAAGX,WAAW,EAA5B,CACA,GAAMY,SAAQ,CAAGV,WAAW,EAA5B,CAEA,GAAMW,mBAAkB,CAAG,QAArBA,mBAAqB,EAAM,CAC7B,GAAI,CACAD,QAAQ,CAACR,WAAW,CAACM,MAAM,CAACI,EAAR,CAAZ,CAAR,CACAT,KAAK,CAAC,gBAAD,CAAL,CACAM,QAAQ,CAAC,SAAD,CAAR,CACH,CAAC,MAAOI,KAAP,CAAc,CACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACH,CACJ,CARD,CAYA,GAAMG,WAAU,CAAGrB,WAAW,wEAAC,qLACJI,MAAK,CAACkB,GAAN,mBAAqBT,MAAM,CAACI,EAA5B,EADI,uCACnBM,IADmB,kBACnBA,IADmB,CAE3BX,QAAQ,CAACW,IAAD,CAAR,CAF2B,sDAAD,GAG3B,CAACV,MAAM,CAACI,EAAR,CAH2B,CAA9B,CAKAnB,SAAS,CAAC,UAAM,CACZuB,UAAU,GACb,CAFQ,CAEN,CAACA,UAAD,CAFM,CAAT,CAIA,GAAI,CAACV,KAAL,CAAY,CACR,mBACI,aAAK,SAAS,CAAC,sBAAf,wBACI,YAAK,SAAS,CAAC,QAAf,EADJ,cAEI,YAAK,SAAS,CAAC,QAAf,EAFJ,cAGI,YAAK,SAAS,CAAC,QAAf,EAHJ,GADJ,CAOH,CACD,mBACI,aAAK,SAAS,CAAC,cAAf,wBACI,kCACI,gBAAQ,SAAS,CAAC,WAAlB,wBAA8B,KAAC,IAAD,EAAM,SAAS,CAAC,WAAhB,CAA4B,EAAE,CAAE,SAAhC,4CAA9B,OADJ,EADJ,cAKI,iBAAS,SAAS,CAAC,UAAnB,wBACI,YAAK,SAAS,CAAC,YAAf,uBACI,YAAI,SAAS,CAAC,WAAd,wBAA0B,KAAC,aAAD,EAAe,IAAI,CAAE,EAArB,CAAyB,KAAK,CAAE,CAAEa,WAAW,CAAC,MAAd,CAAhC,EAA1B,CAAoFb,KAAK,CAACc,KAA1F,GADJ,EADJ,cAKI,aAAK,SAAS,CAAC,WAAf,wBACI,YAAK,SAAS,CAAC,cAAf,uBAA8B,mBAAId,KAAK,CAACe,SAAV,EAA9B,EADJ,cAEI,YAAK,SAAS,CAAC,cAAf,uBAA8B,mBAAIf,KAAK,CAACgB,QAAV,EAA9B,EAFJ,GALJ,GALJ,cAeI,kCAEQ,YAAK,SAAS,CAAC,YAAf,uBACI,eAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAEX,kBAAtC,uBAA0D,KAAC,YAAD,EAAc,IAAI,CAAE,EAApB,CAAwB,KAAK,CAAE,CAAEY,KAAK,CAAC,MAAR,CAA/B,EAA1D,EADJ,EAFR,EAfJ,GADJ,CAwBH,CA7DM"},"metadata":{},"sourceType":"module"}